{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nlet formSubmitted = false;\nconst storageKey = \"feedback-form-state\";\nconst formSubmittedKey = \"form-submitted\";\n\nconst form = document.querySelector(\".feedback-form\");\n\nform.addEventListener(\"input\", (event) => {\n    if ((event.target.tagName === \"input\" || event.target.tagName === \"textarea\")) {\n        saveToLocalStorage();\n    }\n});\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n\n     \n    const emailValue = form.querySelector(\"[name='email']\").value;\n    const messageValue = form.querySelector(\"[name='message']\").value;\n\n    if (emailValue.trim() !== '' && messageValue.trim() !== '') {\n        const formData = {\n            email: emailValue,\n            message: messageValue\n        };\n    \n        console.log(formData);\n\n        localStorage.setItem(formSubmittedKey, \"true\");\n        localStorage.removeItem(storageKey);\n        form.reset();\n        \n    } else {\n        console.log(\"Будь ласка, заповніть всі поля форми.\");\n    }\n});\n\nconst saveToLocalStorage = () => {\n    const formData = {\n        email: form.querySelector(\"[name='email']\").value.trim(),\n        message: form.querySelector(\"[name='message']\").value.trim()\n    };\n    localStorage.setItem(storageKey, JSON.stringify(formData));\n};\n\nconst restoreFormLocalStorage = () => {\n    const storedData = localStorage.getItem(storageKey);\n    const formSubmittedIndicator = localStorage.getItem(formSubmittedKey);\n\n    if (storedData && !formSubmittedIndicator) {\n        const formData = JSON.parse(storedData);\n            \n        form.querySelector(\"[name='email']\").value = formData.email;\n        form.querySelector(\"[name='message']\").value = formData.message;\n        }\n};\n\nrestoreFormLocalStorage();\n\n"],"names":["storageKey","formSubmittedKey","form","event","saveToLocalStorage","emailValue","messageValue","formData","restoreFormLocalStorage","storedData","formSubmittedIndicator"],"mappings":"oDAGA,MAAMA,EAAa,sBACbC,EAAmB,iBAEnBC,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAAUC,GAAU,EACjCA,EAAM,OAAO,UAAY,SAAWA,EAAM,OAAO,UAAY,aAC9DC,GAER,CAAC,EAEDF,EAAK,iBAAiB,SAAWC,GAAU,CACvCA,EAAM,eAAc,EAGpB,MAAME,EAAaH,EAAK,cAAc,gBAAgB,EAAE,MAClDI,EAAeJ,EAAK,cAAc,kBAAkB,EAAE,MAExDG,EAAW,SAAW,IAAMC,EAAa,KAAM,IAAK,IAMpD,QAAQ,IALS,CACb,MAAOD,EACP,QAASC,CACrB,CAE4B,EAEpB,aAAa,QAAQL,EAAkB,MAAM,EAC7C,aAAa,WAAWD,CAAU,EAClCE,EAAK,MAAK,GAGV,QAAQ,IAAI,uCAAuC,CAE3D,CAAC,EAED,MAAME,EAAqB,IAAM,CAC7B,MAAMG,EAAW,CACb,MAAOL,EAAK,cAAc,gBAAgB,EAAE,MAAM,KAAM,EACxD,QAASA,EAAK,cAAc,kBAAkB,EAAE,MAAM,KAAM,CACpE,EACI,aAAa,QAAQF,EAAY,KAAK,UAAUO,CAAQ,CAAC,CAC7D,EAEMC,EAA0B,IAAM,CAClC,MAAMC,EAAa,aAAa,QAAQT,CAAU,EAC5CU,EAAyB,aAAa,QAAQT,CAAgB,EAEpE,GAAIQ,GAAc,CAACC,EAAwB,CACvC,MAAMH,EAAW,KAAK,MAAME,CAAU,EAEtCP,EAAK,cAAc,gBAAgB,EAAE,MAAQK,EAAS,MACtDL,EAAK,cAAc,kBAAkB,EAAE,MAAQK,EAAS,OACvD,CACT,EAEAC,EAAyB"}